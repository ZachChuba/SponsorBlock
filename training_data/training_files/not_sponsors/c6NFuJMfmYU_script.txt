so here's a weird thing I've noticed look this vehicle has its rear lights on and they look normal but I'm also filming it on my jh5 would just watch for a second and see what happens here let me turn off and they come back on again what's that here are the front lights on there crazy [Applause] I reckon I can explain what's happening here but first I want to say why it's important and I think it doesn't matter that there's a strange interaction between my camera and the lights on the back of a car so long as it looks the way it's supposed to look to human eyes then that's all that matters because ultimately it's a human driver that's going to be making decisions about safety based on the cars around them except that well personally I hope that in the not-too-distant future I won't have to be the human making those decisions I want a computer to be making those decisions for me in other words I want my self-driving car so while LED lights on cars might look normal to our analog human senses a self-driving car built up a model of the world based on digital senses so the way it perceives LED lights on cars might be closer to the footage that I captured on my digital camera so let's see if we can concoct a scenario in which that kind of digital artifact might be a problem here in the UK the real lights of a car are red and the turn signals or indicators as we call them here are amber but in America turn signals can be red so an artificial intelligence may receive this video footage and conclude the vehicle intends to turn or if it can see both lights that the vehicle is indicating a hazard and based on that information it could make a dangerous decision I'm not saying that the turn signal system in the UK is better than the system in America I'm just heavily implying it this isn't the only hazardous scenario we can imagine to cook up a few more we need to understand why it's happening in the first place and it's all to do with the way we vary the brightness of LEDs so you could vary the voltage and that would vary the brightness but actually it's easier and cheaper to instead simply turn the LED off and then turn it back on again and just do that repeatedly but you do it so fast that it's not perceptible to the human eye so for example if it's turning on and off 50 times a second that won't be noticeable to most people most of the time let's look at this on a timeline so it the LED is turning on and off 50 times per second then look each block here represents a 50th of a second and the LED is on for half the time in each one of those blocks so in this scenario the LED would appear to be half as bright as if it was on continuously and if you wanted to make it appear dimmer than that then you would just have it on for a shorter fraction of that 50th of a second if you wanted it to be brighter then you would have it on for a larger fraction of that 50th of a second the fraction of time for which the LED is on is called the duty cycle and this method of dimming LEDs is called pulse width modulation now let's add a camera to the timeline here the camera is operating at 50 frames per second and we're showing that the shutter is only open for a small fraction of that 50th of a second so what the camera is seeing while the shutter is open is that the LED is on and it's on for the whole duration that the shutter is open so when you look back at the footage you'll see that the LED appears to be on which is good because that's what the human perceives as well except we've already introduced a digital artifact because from the point of view of the camera the LED appears to be on a hundred percent of the time so it will appear brighter to the camera than it would to a human but even worse imagine we started the camera a little bit later so we're shifting everything along a little bit now the shutter is opened when the LED is off and it will be for every single frame so when you look back at the footage the idea appears to be off and now look we already have another disastrous scenario where the lights don't appear to be on at all for example watching this footage you might assume that the BMW driver has neglected to use the turn signal but a BMW driver would never do that so it must be an issue with the camera it can also cause problems with LED traffic lights imagine that a red light telling you to stop that the camera just can't see the timeline that we've been using up to now shows an LED and a camera with the same frequency 50 Hertz but in reality that might not happen particularly often for example maybe the free see if the LED is going to be slightly less than the frame rate of the camera so let's stretch out the LED line to illustrate that and now you can see look sometimes the open shutter of the camera lines up with the LED when it's on and sometimes it lines up with the LED when it's off so when you watch the footage back what you perceive is an LED that seems to be turning on and off repeatedly which is exactly what I got with the Mercedes here this slow apparent turning on and off of the LEDs is called the beep frequency practically speaking you could probably quite easily teach in artificial intelligence to recognize that this footage from the Mercedes isn't a turn signal because the light is on for far too long and it's only off for a brief period it doesn't look like a turn signal but the point is there's no standardization in the LEDs in cars which is to say the duty cycle could be anything the frequency could be anything and it's trivial to concoct a beep frequency that looks just like a turn signal in fact this footage was captured in the wild and I think this would even fool a human observer which actually reminds me this isn't just a problem for self-driving cars and AI some car manufacturers are starting to replace wing mirrors with cameras so you look at the central screen in your car instead of at your wing mirrors and yeah it would be easy to think that a car was turning in this scenario there are a few more scenarios but I tell you about one more which is when the frequency and the frame rate are quite different you end up with this horrible really fast flicker and at the corner of your eye a human could interpret that as an emergency vehicle nearby these might seem like edge case bugs in the system and they are they're only gonna crop up very rarely but it's not like an edge case bug in a mobile phone for example where if it's really expensive to fix the bug you could just ignore it it's only affecting a handful of people and they're probably just jump ship to Android if the edge case bug exists in a self-driving car then it could kill or injure that handful of people so you have to find a fix it would be nice if we could just control the environment like force all car manufacturers to revert back to incandescent bulbs but incandescent bulbs are bad for other reasons like they're hugely energy inefficient and you can't use them to create these really interesting designs that we see in car lighting these days but also it's just not how the world works is it and actually that's a general problem the autonomous vehicles face which is the world is messy and you're gonna have to deal with that if we can't change the world around the car we have to change the car but what does that solution look like I spoke to someone who knows a lot more about these things than I yes my name's Rob instead we organize conferences for nerds who work on automotive safety systems to do with cameras and other perception sensors so what do you do do you train the AI on all these different LED flicker scenarios or do you fix the camera yes so the laughter really rather than saying okay we accept that there's a flashing light here and we need to train the system differently there's mitigation that you can put in place at the sensor level so that what the camera does eventually see is a solid brake light when it meant to see a solid brake light one solution would be to make sure that the shutter of the camera is open for the entirety of the frame that way if the frequency of the LEDs is at least I don't double the frame rate of the camera then the camera should be capturing roughly the right brightness in each frame I can illustrate that quite nicely with my camera see here the shutter is only open for a brief fraction of the frame and we're getting quite bad flicker from the front headlights but as I increase the amount of time that the shutter is open for starts to fade away you can see the problem now is that the image is overexposed because we're letting too much light onto the sensor to counteract that we can close down the aperture reducing the amount of light hitting the sensor there's still a little bit of rolling shutter artifact but it's nowhere near as bad so is that the solution keep the shutter open for the whole frame and make the aperture smaller well yes and no we do want to keep the shutter open for the whole frame but we can't change the size of the aperture I spoke to some engineers working on the problem and they tell me that the cam on cars are fixed aperture that's because the variable aperture mechanism in a lens is quite delicate and if you think about what a car goes through imagine the camera that's attached to the boot of a car and repeatedly slamming that boot closed that delicate mechanism isn't going to survive so instead they're working on camera sensors that have the capability of being much less sensitive or to put it in normal camera terms to create a camera that has the possibility of a much lower ISO that way you could keep the shutter open for the whole frame without it being overexposed you might be thinking that if you keep the shutter open for the entirety of a frame you're going to occasionally have really bad motion blur to deal with and that's true but it seems as though it's easier for artificial intelligence to deal with motion blur than it is for these flickering LED artefacts so when's it going to be fixed well that's an interesting question but at the same time there are loads and loads of problems that need to be fixed before we see the mass adoption of self-driving cars and they're all being solved in parallel so it's really hard to say so it's one of those situations where you know it's quite easy to develop the first 98 percent of the technology you make in 98 percent safe but in order for us to deploy vehicles fully driverless vehicles on the road mixed in with other traffic you know they have to be super super safe you know I often talk about speculative technologies and it throws up a certain type of person that you meet in the comments that says well this is why it's not going to work the end and I can understand why it's fun to leave a comment like that because it feels good it's like I've thought of this thing that makes it all impossible none of you thought of it you all idiots and I'm really plepper I'm going to type it what I really like is you have this other type of person who says yeah we knew about that problem and we built it anyway because that's how you figure out how to solve the problem these are just they're all technical challenges and when you break it down they're all they're all quite niche technical challenges that all come together to create the whole system yeah and there's there's plenty of nerds out there that like to like to work on solving those problems thanks to the I Triple E P 2020 standards group for helping with this video and for letting me use their footage and thanks to Merck better world link to that in the description I hope you enjoyed this video if you did don't forget to hit subscribe and I'll see you next time [Music] 