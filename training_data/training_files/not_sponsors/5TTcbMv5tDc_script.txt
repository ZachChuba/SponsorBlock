in august of 2020 i set out to make the smallest rocket flight computer possible usually these things are built as a pcb or printed circuit board there's a fiberglass base and then you draw little copper lines between sensors and processors to wire them all up i have made a lot of these boards over the years some of these boards are super complex and powerful while others are cute but not that capable which like tag yourself i'm cute but not that capable now i forgot to film footage of me designing this board so like i'm gonna shoot some extra stuff and put it in here and just pretend it's all real and accurate okay [Music] he's designing the board now he's routing the traces look at him go placing the order validation while we wait for these boards to get manufactured let's talk about what's on them and what's actually needed to design a flight computer first is a processor [Music] this is the brain of the rocket and it runs all of our code it'll connect to the servos the little actuators that steer the motor and it'll connect to the sensors on board the only sensor we truly need is called an imu or inertial measurement unit this sensor can measure linear acceleration and angular velocity the rocket will be able to figure out how high it goes by adding up all of those acceleration measurements and really we're adding them up to get velocity and then we're adding the velocities up to get position we need a way to light rocket motors in the air we're going to do that using a little digital switch called a mosfet we also need a way to know what the computer is doing so we can tell if it's ready to launch and we'll do that in the simplest way possible we'll use two leds one on the front one on the back we'll finish this thing out by putting on a few voltage regulators and finally a diode the diode is going to protect against reverse polarity which means that if we plug it in backwards we don't want the magic smoke to come out because it's really hard to put the magic smoke back in [Music] now i made a decision on this board that like might possibly at some point perhaps maybe come back to haunt me hypothetically speaking the decision is that i didn't include a way to record data my reasoning was basically like alright data logging helps you troubleshoot bad flights right so what if we just don't have any bad flights because i'm built different [Music] i wonder if that attitude will ever get me into any type of trouble it will the first step of pcb assembly is to apply the solder paste and this gets you an even distribution of you know what this is youtube you can look it up uh you squeegee the gray sauce onto the magic square each component comes in bulk in a line of tape and gets placed on the board carefully i used size 0402 smd components which are just stupidly small little known fact if you drop one of these parts on the ground it actually ceases to exist conservation of mass does not apply here it's just gone the circuit board has two sides and we place components on just one side at a time so before we move to the front of the board we need to use a heat gun to melt that solder paste or gray sauce on the back on the front of the board we have our processor and our imu the processor takes up the most space by far and this is a great opportunity to point out that you could absolutely make this smaller than i did the dimensions as it stand are 16 by 17 millimeters it is a two layer board you can for sure do this in less space and if you do it you should totally tweet it at me at joebarnard on twitter always be plugging the front of the board also has a bulky usb port you could for sure get rid of this with some pogo pins or some other solution but for me it made programming a lot easier and once all the parts are applied it's time to do the melt to make it easier to use i soldered header pins off of the sides of the board one of the coolest parts about this board is that it is so small you can mount it on the thrust vector control mount of the rocket we can pick a spot for the flight computer and the battery in the thrust vector control mount and basically what this means is that this unit here is an entire stage of a rocket self-contained so why not do three stages [Music] [Applause] [Music] each stage has a motor mount battery computer and servos the motor mount is based on a shortened version of the dual motor mount that i designed for scout e in order to deal with spatial limitations from the battery and the flight computer one of the axes of the gimbal has slightly limited range the final product totally works but it kind of looks like trash because we use a lot of hot glue to secure the battery and the computer and i will tell you what hot glue gets too much it's a good way to build something if you understand the limitations of the material it's like the og additive manufacturing the first and second stages will look nearly identical but the third stage will also have roll control with the reaction wheel we'll use those two pins on the top of the board to control a motor driver which controls the reaction wheel on the third stage when the wheel spins up in one direction it lets us roll the rocket in the opposite direction the airframe for this rocket is made of 66 millimeter tubing painted in a shiny silver the first two stages are just about as short as i could make them and they have a very limited coupler section in between finally before going out to fly i measure the mass moment arm mass moment of inertia i did this for all three stages second stage flight and third stage flight i took those values ran them through a simulation got control sensitivities for the rocket loaded the new code and then went out to the launch site [Music] hello i'm joe barnard and i kind of do whatever i want at this point so that rocket i named it trek each e stands for one stage so it's a three stage rocket this is the top stage of shrek it's also aerodynamically unstable as you might be able to tell this is actually good because on the way down we do not have parachutes for this flight because the center of mass will be right in the middle the coefficient of drag is enough to slow the vehicle down so where the impact is pretty withstandable then we have stage two right here so this is stage three stage two stage two and stage one are almost entirely identical um and with the name shrek it really lends itself to extending shrek like that [Music] by the way sorry if this is out of focus uh the reason i called it shrek is because i uh recently saw shrek the musical online not in person because of pandemic but uh it's really good like i mean on trek all you want the musical is dope okay that's it [Music] whoa maximum overdrive okay so like not great not amazing silver lining it does kind of look like the disney channel thing where it's like i'm joe barnard and you're watching bps space okay but for real like what went wrong it would be really helpful to have some flight data here you know to run back through a simulation but no we decided no flight data because i'm built different so we're just going to take some guesses and we have to get it right on the second try right off the bat one thing we can see is the sensitivity of the control system isn't high enough i mean we pitch over really hard at liftoff so we're gonna have to dial up the control gains a little bit to fix that [Music] the other problem here is the staging logic which is the set of rules inside the flight computer that allows it to decide is it safe to light that motor on the upper stage or is it not for example if the rocket were really high in the air but upside down not very safe to light the motor the real issue is that it takes about three quarters of a second for the motor to start producing thrust after you light it if the rocket is pointing in the right direction at the time you choose to light the motor but it's spinning fast by the time that motor comes up to thrust you're already out of bounds and when the rocket is too far out of bounds and orientation it locks the motor mount in place as a way to abort the flight so on this first flight we basically lit the motor and then the computer immediately said nah i'm done so i fixed the staging logic i increased the controller sensitivity and i swapped out that first stage motor for something less powerful and easier to control and with all that done i was ready to have what should be a successful second flight [Music] nope uh okay right so we didn't pass the altitude lockout on the staging logic which means we didn't light the second motor as a safety measure because the first stage motor underperformed and we didn't get high enough it's also super possible and perhaps absolutely true that i loaded the wrong flight software onto the first stage so i thought it was pointed 15 degrees off course but i i still think i still think i'm built different thankfully though it's not that hard to go back look at the original code you know we can totally fix these issues we have the information we need i came up with better checks before flight so i wouldn't load the wrong flight code and you know third time's a charm right [Music] hello everyone i'm joe barnard i'm joey murphy we are uh both interns at the bps space rocket company very good so we're here today to launch uh shrek uh i'm gonna arm the rocket here i'll hit two more cameras and then we'll watch i am not built different maybe maybe i am built different but the difference is that it's worse it's i'm different but it's worse maybe that's it it's just it's too bad that there was no possible way that this could have been prevented through the use of data logging oh no if you're still watching congratulations on getting a front seat as you view my descent into madness not that anyone is surprised but cutting corners on a development program corners as important as recording your test results or your data logging any of that cutting those corners is not hot girl energy i am sure that there is a good way to segue into the fourth flight of this video but i am kind of out of energy so between you and me let's make a little pact come here come come close what if what if we agreed that this part of the video was super good and like don't just like compliment me in the comments give me really good words say that this part of the video was amazing this is like the climax of the video right here and it's just just between you and me okay we're gonna try to tell people that i'm not phoning it in completely [Music] [Music] [Music] look this project was awesome despite all of the flights that didn't work i got some cool footage i learned some new things and i had a ton of fun you don't need to do things just because they're useful or they have some direct end purpose you can just do them because you enjoy the process even if you're not built different and whether you're built different or not you should stick around to hear about today's sponsor this video is sponsored by brilliant you may have heard of them before but if you haven't brilliant is a website app built around the idea of active problem solving the idea is that you learn your best when you're solving real problems in real time and honestly that's kind of a great fit because that is how i learn it's like learning by doing brilliant coaches you through new problems to help you learn different subjects within stem and recently brilliant has pushed to make the experience even more interactive with new courses on pre-algebra mathematics fundamentals algorithm fundamentals and more being able to interact with a lesson is much more powerful than learning the equations and formulas on their own for example take this lesson on the pythagorean theorem where instead of just learning what it means you can experiment with moving the triangles around to prove it for yourself for me personally this type of learning is much more effective and long-lasting if you'd like to join a growing community of people who are furthering their education you can click the link in the description below or visit brilliant.org bpspace thanks again to brilliant for sponsoring today's video and thanks to you for watching my name is joe barnard may your skies be blue and your winds be [Music] the below validation [Music] okay i think i should just keep that 